(this["webpackJsonpobject-particles"]=this["webpackJsonpobject-particles"]||[]).push([[3],{128:function(e,t,r){var n={"./HQ/chair.json":[129,5],"./HQ/cone.json":[130,6],"./HQ/desk.json":[131,7],"./HQ/dino.json":[132,8],"./HQ/dog.json":[133,9],"./HQ/flower.json":[134,10],"./HQ/grogu.json":[135,11],"./HQ/guanyin.json":[136,12],"./HQ/head.json":[137,13],"./HQ/helmet.json":[138,14],"./HQ/jet.json":[139,15],"./HQ/monaLisa.json":[140,16],"./HQ/mountains.json":[141,17],"./HQ/notreDame.json":[142,18],"./HQ/peace.json":[143,19],"./HQ/pikachu.json":[144,20],"./HQ/reptile.json":[145,21],"./HQ/tie.json":[146,22],"./HQ/violin.json":[147,23],"./LQ/chair.json":[148,24],"./LQ/cone.json":[149,25],"./LQ/desk.json":[150,26],"./LQ/dino.json":[151,27],"./LQ/dog.json":[152,28],"./LQ/flower.json":[153,29],"./LQ/grogu.json":[154,30],"./LQ/guanyin.json":[155,31],"./LQ/head.json":[156,32],"./LQ/helmet.json":[157,33],"./LQ/jet.json":[158,34],"./LQ/monaLisa.json":[159,35],"./LQ/mountains.json":[160,36],"./LQ/notreDame.json":[161,37],"./LQ/peace.json":[162,38],"./LQ/pikachu.json":[163,39],"./LQ/reptile.json":[164,40],"./LQ/tie.json":[165,41],"./LQ/violin.json":[166,42],"./MQ/chair.json":[167,43],"./MQ/cone.json":[168,44],"./MQ/desk.json":[169,45],"./MQ/dino.json":[170,46],"./MQ/dog.json":[171,47],"./MQ/flower.json":[172,48],"./MQ/grogu.json":[173,49],"./MQ/guanyin.json":[174,50],"./MQ/head.json":[175,51],"./MQ/helmet.json":[176,52],"./MQ/jet.json":[177,53],"./MQ/monaLisa.json":[178,54],"./MQ/mountains.json":[179,55],"./MQ/notreDame.json":[180,56],"./MQ/peace.json":[181,57],"./MQ/pikachu.json":[182,58],"./MQ/reptile.json":[183,59],"./MQ/tie.json":[184,60],"./MQ/violin.json":[185,61]};function o(e){if(!r.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],o=t[0];return r.e(t[1]).then((function(){return r.t(o,3)}))}o.keys=function(){return Object.keys(n)},o.id=128,e.exports=o},186:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return p}));var n=r(12),o=r(0),s=r(43),a=r(11),i=r(127),u=r(24),c=r.n(u),l=r(39),f=["head","monaLisa","dino","violin","flower","guanyin","mountains","notreDame","peace","pikachu","cone","dog","grogu","chair","desk","helmet","reptile","tie","jet"],j=function(e,t){return e.current++,t[e.current]},d=function(e,t){var r=Math.floor(Math.random()*e.current.length),n=e.current[r];return t.current.push(e.current.splice(r,1)),e.current.push(t.current.shift()),n};var m=r(7);function p(e){var t=e.loading,u=e.nextModel,p=e.config,g=e.tempConfig,h=e.qualityCfg,Q=Object(o.useRef)(),b=Object(o.useRef)(),v=function(e){var t=e.nextModel,s=e.qualityCfg,a=Object(o.useRef)(-1),i=Object(o.useState)(null),u=Object(n.a)(i,2),m=u[0],p=u[1],g=Object(o.useRef)(f.slice(0,f.length-5)),h=Object(o.useRef)(f.slice(f.length-5)),Q=Object(o.useRef)(!1),b=Object(o.useRef)();return Object(o.useEffect)((function(){Object(l.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q.current?t=d(g,h):(t=j(a,f),a.current===f.length-1&&(Q.current=!0)),e.next=3,r(128)("./".concat(s.current.filePath,"/").concat(t,".json"));case 3:n=e.sent,p((function(e){return b.current=e,n.default}));case 5:case"end":return e.stop()}}),e)})))()}),[t,s]),[m,b]}({nextModel:u,qualityCfg:h}),M=Object(n.a)(v,2),P=function(e){var t=e.model,r=e.prevModel,s=e.config,u=e.animating,c=e.qualityCfg,l=Object(o.useRef)(null),f=Object(o.useRef)(null);return Object(o.useMemo)((function(){if(!t)return[null,null];var e,o,j=Object(n.a)(t,2),d=j[0],m=j[1],p=r.current||[[],[]],g=Object(n.a)(p,2),h=g[0],Q=g[1],b=d.length,v=h.length,M=Math.max(b,v),P=new a.SphereBufferGeometry(1,5,5),O=new i.a(P,M),k=O.createAttribute("startPosition",3),L=O.createAttribute("endPosition",3);"sphere"===s.current.transition&&(e=O.createAttribute("midPosition",3)),"knot"===s.current.transition&&(o=O.createAttribute("offset",3));for(var x,y=O.createAttribute("startTime",1),C=O.createAttribute("startColor",3),H=O.createAttribute("endColor",3),R=[],D=new a.Vector3,w=0;w<M;w++){var A=h[Math.floor(w*v/M)],q=d[Math.floor(w*b/M)];A?(R[0]=A[0],R[1]=A[1],R[2]=A[2]):(R[0]=1-2*Math.random(),R[1]=1-2*Math.random(),R[2]=1-2*Math.random()),O.setPrefabData(k,w,R),"sphere"===s.current.transition&&(D.x=1-2*Math.random(),D.y=1-2*Math.random(),D.z=1-2*Math.random(),D.setLength(c.current.sphereRadius),D.toArray(R),O.setPrefabData(e,w,R)),"knot"===s.current.transition&&(D.x=1-2*Math.random(),D.y=1-2*Math.random(),D.z=1-2*Math.random(),D.setLength(c.current.knotOffset),D.toArray(R),O.setPrefabData(o,w,R)),R[0]=q[0],R[1]=q[1],R[2]=q[2],O.setPrefabData(L,w,R),R[0]=s.current.totalDelay/M*w,O.setPrefabData(y,w,R),x=A?Q[A[3]]:m[q[3]],O.setPrefabData(C,w,x),x=m[q[3]],O.setPrefabData(H,w,x)}var S={time:{value:0},duration:{value:s.current.duration},spiralAngle:{value:4*Math.PI},angleStart:{value:.57},knotRadius:{value:c.current.knotRadius}},_=["uniform float time;","uniform float duration;","uniform float spiralAngle;","uniform float angleStart;","uniform float knotRadius;","attribute vec3 startPosition;","attribute vec3 midPosition;","attribute vec3 endPosition;","attribute vec3 offset;","attribute float startTime;","attribute vec3 startColor;","attribute vec3 endColor;"];"knot"===s.current.transition&&_.push("vec3 knot(float p) {","vec3 pos;","float angle = angleStart + spiralAngle * p;","pos.x = knotRadius * (cos(angle) - 2.0 * cos(2.0 * angle));","pos.y = knotRadius * (sin(angle) + 2.0 * sin(2.0 * angle));","pos.z = knotRadius * (sin(3.0 * angle));","return pos;","}");var I=["float progress = clamp(time - startTime, 0.0, duration) / duration;"];"sphere"===s.current.transition?I.push("if(progress < 0.5) {","float halfProgress = easeCubicInOut(2.0*progress);","transformed += mix(startPosition, midPosition, halfProgress);","} else {","float halfProgress = easeCubicInOut(2.0*progress-1.0);","transformed += mix(midPosition, endPosition, halfProgress );","}"):null===s.current.transition?I.push("progress = easeCubicInOut(progress);","transformed += mix(startPosition, endPosition, progress);"):"knot"===s.current.transition&&I.push("if(progress < 0.2) {","progress = (5.0 * progress);","vec3 pos = knot(0.0);","transformed += mix(startPosition, offset + pos, progress);","} else if (progress < 0.8) {","progress = (1.667 * progress - 0.3335);","vec3 pos = knot(progress);","transformed += (pos + offset);","} else {","progress = (5.0 * progress - 4.0);","vec3 pos = knot(0.0);","transformed += mix(offset + pos, endPosition, progress);","}");var T=new i.c({roughness:.5,metalness:.5,vertexColors:a.VertexColors,uniforms:S,vertexParameters:_,vertexFunctions:[i.b.ease_cubic_in_out],vertexPosition:I,vertexColor:["vColor = mix(startColor, endColor, progress);"]});return l.current&&l.current.dispose(),f.current&&f.current.dispose(),l.current=O,f.current=T,u.current=!0,document.body.style.cursor="",[O,T]}),[t,r,s,u,c])}({model:M[0],prevModel:M[1],config:p,animating:Q,qualityCfg:h}),O=Object(n.a)(P,2),k=O[0],L=O[1];return Object(s.b)((function(){if(b.current&&Q.current){var e=b.current.material.uniforms;e.time.value+=1/60,e.time.value>p.current.duration+p.current.totalDelay&&(Q.current=!1,t.current=!1,g.current&&(p.current=g.current,g.current=null))}})),Object(m.jsx)(m.Fragment,{children:L&&Object(m.jsx)("mesh",{frustumCulled:!1,ref:b,material:L,geometry:k})})}}}]);
//# sourceMappingURL=3.c14d17a9.chunk.js.map